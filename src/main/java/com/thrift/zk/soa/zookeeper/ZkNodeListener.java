package com.thrift.zk.soa.zookeeper;import com.xj.zk.ZkClientException;import com.xj.zk.listener.Listener;import org.apache.zookeeper.Watcher.Event.EventType;import java.net.SocketException;/** * Author: xiajun * Date: 16/11/01 00:20 */public class ZkNodeListener implements Listener {    private ThriftZkManage sharded;    public ZkNodeListener(ThriftZkManage sharded) {        this.sharded = sharded;    }    @Override    public void listen(String path, EventType eventType, byte[] data) throws ZkClientException, SocketException {        if(eventType == EventType.NodeDeleted){            this.sharded.removeNode(path);        }else {            this.sharded.addNode(path);        }    }}